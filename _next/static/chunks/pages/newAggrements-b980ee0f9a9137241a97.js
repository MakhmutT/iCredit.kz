_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[46],{"1OyB":function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return a}))},Eo8B:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),r=n.n(a),i=n("HaE+"),c=n("1OyB"),o=n("vuIU"),s=n("Ji7U"),u=n("md7G"),d=n("foSv"),l=n("nKUr"),p=n("q1tI"),f=n.n(p),h=n("nOHt"),m=n.n(h),b=n("vDqi"),j=n.n(b),g=n("GUC0"),O=n.n(g),v=n("8Kt/"),y=n.n(v),k=n("tNPP"),w=n("uuUm"),x=n("Otl1"),N=n("uJQ+");function D(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function S(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}var C=function(t){Object(s.a)(a,t);var e=D(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={token:null,leadID:null,loading:!1,docs:[],id:null,id_req:null,sign:"",isCodeSent:!1,code_conf:null,errorInCode:null,phone:null,rest:null,fio:null,dateOfBirth:null,address:null,email:null,placeOfWork:null,position:null,iin:null,cardNumber:null,startCard:null,endCard:null,placeOfBirth:null,insuranceAmount:null,givenDate:null,code:null,period:null,contractNumber:null,reward:null,main:null,total:null,cardGiven:null,iban:null,phone2:null,endDate:null},n}return Object(o.a)(a,[{key:"getUserDocument",value:function(){var t=Object(i.a)(r.a.mark((function t(e){var n=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({loading:!0}),0===S("token").length){t.next=6;break}return t.next=4,j.a.get("https://api.i-credit.kz/api/newGetData?token=".concat(e)).then((function(t){t.data.success?n.setState({loading:!1,leadID:t.data.leadID,phone2:t.data.phone,fio:t.data.fio,dateOfBirth:t.data.birthday,address:t.data.address,email:t.data.email,placeOfWork:t.data.work,position:t.data.position,iin:t.data.iin,cardNumber:t.data.cardNumber,startCard:t.data.cardDate,endCard:t.data.cardExpiration,placeOfBirth:t.data.placeOfBirth,insuranceAmount:t.data.insuranceAmount,givenDate:t.data.givenDate,code:t.data.code,period:t.data.period,contractNumber:t.data.contractNumber,reward:t.data.reward,main:t.data.main,total:t.data.main+t.data.reward,cardGiven:t.data.cardGiven,iban:t.data.iban,endDate:t.data.datePayment}):O()("\u041e\u0448\u0438\u0431\u043a\u0430",t.data.message,"error").then((function(){m.a.push("/")}))})).catch((function(){n.setState({loading:!1}),O()("Oops","\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a","error").then((function(){m.a.push("/")}))}));case 4:t.next=9;break;case 6:if(0===S("leadID").length){t.next=9;break}return t.next=9,j.a.get("https://api.i-credit.kz/api/newGetData?leadID=".concat(e)).then((function(t){console.log(t),t.data.success?n.setState({loading:!1,leadID:t.data.leadID,phone2:t.data.phone,fio:t.data.fio,dateOfBirth:t.data.birthday,address:t.data.address,email:t.data.email,placeOfWork:t.data.work,position:t.data.position,iin:t.data.iin,cardNumber:t.data.cardNumber,startCard:t.data.cardDate,endCard:t.data.cardExpiration,placeOfBirth:t.data.placeOfBirth,insuranceAmount:t.data.insuranceAmount,givenDate:t.data.givenDate,code:t.data.code,period:t.data.period,contractNumber:t.data.contractNumber,reward:t.data.reward,main:t.data.main,total:t.data.main+t.data.reward,cardGiven:t.data.cardGiven,iban:t.data.iban,endDate:t.data.datePayment}):m.a.push("/")})).catch((function(){n.setState({loading:!1}),m.a.push("/")}));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCode",value:function(){var t=Object(i.a)(r.a.mark((function t(){var e=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("https://api.money-men.kz/api/sendSms?phone=".concat(this.state.phone),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){t.success&&e.setState({isCodeSent:!0})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendAgreementStatusForRest",value:function(){var t=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===this.state.code_conf){t.next=3;break}return t.next=3,j.a.get("https://api.money-men.kz/api/sendSms",{params:{id:this.state.id,phone:this.state.phone,token:this.state.token,id_req:this.state.id_req,code:this.state.code_conf,sign:"y"}},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){t.success&&O()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","".concat(t.message),"success").then((function(){m.a.push("/")}))})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendAgreementStatusWithRest",value:function(){var t=this;this.setState({loading:!0}),j.a.get("https://api.money-men.kz/api/prolongationAgreement?sign=y&request_id=".concat(this.state.id)).then((function(e){t.setState({loading:!1}),e.data.success&&O()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","success").then((function(){m.a.push("/")}))})).catch((function(e){t.setState({loading:!1}),console.log(e),m.a.push("/")}))}},{key:"sendAgreementStatus",value:function(){var t=Object(i.a)(r.a.mark((function t(){var e=this;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({loading:!0});try{j.a.get("https://api.i-credit.kz/api/agreementNew",{params:{leadID:this.state.leadID,sign:"y"}}).then((function(t){console.log(t),e.setState({loading:!1}),t.data.success&&O()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","\u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u0434\u0435\u043d\u0435\u0433 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u0434\u043d\u044f.").then((function(){m.a.push("/")}))}))}catch(n){this.setState({loading:!1}),console.log(n),m.a.push("/")}case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){0===S("token").length&&0===S("leadID").length?O()("Oops","\u041d\u0435\u0442 \u0442\u043e\u043a\u0435\u043d\u0430","error").then((function(){m.a.push("/")})):this.setState({token:S("token"),leadID:S("leadID")}),this.getUserDocument(0!==S("token").length?S("token"):0!==S("leadID").length?S("leadID"):null)}},{key:"render",value:function(){var t=this,e=this.state,a=e.fio,r=e.dateOfBirth,i=e.address,c=e.email,o=e.placeOfWork,s=e.position,u=e.iin,d=e.cardNumber,p=e.startCard,f=e.endCard,h=e.placeOfBirth,m=e.insuranceAmount,b=e.givenDate,j=e.code,g=e.period,O=e.contractNumber,v=e.reward,D=e.main,S=e.total,C=e.cardGiven,_=e.iban,I=e.phone2,B=e.endDate;return Object(l.jsxs)("div",{className:"container otherPages",children:[Object(l.jsx)(y.a,{children:Object(l.jsx)("title",{children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"})}),this.state.loading?Object(l.jsx)("div",{className:"modelLoader"}):Object(l.jsx)("div",{className:"modelLoader loaded",children:" "}),Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsxs)("div",{className:"agreements-block",children:[Object(l.jsx)("h4",{align:"center",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(l.jsxs)("ul",{className:"complete",children:[Object(l.jsxs)("li",{children:[Object(l.jsx)("img",{className:"checkedComplete",src:n("jI6F")}),Object(l.jsx)(k.a,{fio:a,dateOfBirth:r,address:i,phone:I,email:c,placeOfWork:o,position:s,iin:u,cardNumber:d,startCard:p,endCard:f,placeOfBirth:h,insuranceAmount:m,givenDate:b,code:j,period:g})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("img",{className:"checkedComplete",src:n("jI6F")}),Object(l.jsx)(w.a,{fio:a,dateOfBirth:r,address:i,iin:u,cardNumber:d,contractNumber:O,insuranceAmount:m,code:j,period:g,reward:v})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("img",{className:"checkedComplete",src:n("jI6F")}),Object(l.jsx)(x.a,{contractNumber:O,givenDate:b,endDate:B,fio:a,address:i,phone:I,iin:u,insuranceAmount:m,reward:v,cardNumber:d,cardGiven:C,startCard:p,email:c,period:g})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("img",{className:"checkedComplete",src:n("jI6F")}),Object(l.jsx)(N.a,{main:D,reward:v,fio:a,iin:u,address:i,cardNumber:d,cardGiven:C,startCard:p,endCard:f,dateOfBirth:r,phone:I,iban:_,email:c,contractNumber:O,givenDate:b,endDate:B,total:S,period:g})]})]}),Object(l.jsx)("div",{className:"repeatBtn form-group",children:!0===this.state.rest?Object(l.jsx)("button",{onClick:function(){return t.sendAgreementStatusWithRest()},className:"mt-5",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0430\u044e\u0441\u044c"}):Object(l.jsx)("button",{onClick:function(){return t.sendAgreementStatus()},className:"mt-5",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0430\u044e\u0441\u044c"})})]})})})]})}}]),a}(f.a.Component);e.default=C},JX7q:function(t,e,n){"use strict";function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return a}))},Ji7U:function(t,e,n){"use strict";function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}n.d(e,"a",(function(){return r}))},NYbR:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/newAggrements",function(){return n("Eo8B")}])},U8pU:function(t,e,n){"use strict";function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return a}))},foSv:function(t,e,n){"use strict";function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return a}))},jI6F:function(t,e){t.exports="/_next/static/images/checked-542f69ac8fd42a1c46953a5547bba55d.png"},md7G:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("U8pU"),r=n("JX7q");function i(t,e){return!e||"object"!==Object(a.a)(e)&&"function"!==typeof e?Object(r.a)(t):e}},rePB:function(t,e,n){"use strict";function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return a}))},vuIU:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",(function(){return r}))}},[["NYbR",0,1,11,12,14,2,3,4,5,13]]]);