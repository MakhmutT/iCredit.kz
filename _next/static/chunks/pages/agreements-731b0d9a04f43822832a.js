_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{"/0+H":function(e,t,n){"use strict";t.__esModule=!0,t.isInAmpMode=i,t.useAmp=function(){return i(r.default.useContext(o.AmpStateContext))};var a,r=(a=n("q1tI"))&&a.__esModule?a:{default:a},o=n("lwAK");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,a=e.hybrid,r=void 0!==a&&a,o=e.hasQuery,i=void 0!==o&&o;return n||r&&i}},"610x":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("o0o1"),r=n.n(a),o=n("HaE+"),i=n("1OyB"),s=n("vuIU"),c=n("JX7q"),u=n("Ji7U"),d=n("md7G"),l=n("foSv"),f=n("rePB"),p=n("nKUr"),h=n("q1tI");function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var v=function(e){Object(u.a)(n,e);var t=m(n);function n(e){var a;return Object(i.a)(this,n),a=t.call(this,e),Object(f.a)(Object(c.a)(a),"takePhoto",(function(){a.state.isCameraVisible?a.setState({isCameraVisible:!1,isDocsReady:!1,isFaceIDReady:!0}):a.state.isCameraVisibleDocs&&a.setState({isCameraVisibleDocs:!1,isDocsReady:!0});var e=a.canvas.getContext("2d");a.canvas.width=a.videoPlayer.videoWidth,a.canvas.height=a.videoPlayer.videoHeight,e.drawImage(a.videoPlayer,0,0,a.canvas.width,a.canvas.height)})),Object(f.a)(Object(c.a)(a),"takePhotoAgain",(function(){a.state.isDocsReady?a.setState({isCameraVisibleDocs:!0,isDocsReady:!1}):a.state.isFaceIDReady&&a.setState({isCameraVisible:!0,isFaceIDReady:!1})})),Object(f.a)(Object(c.a)(a),"showCameraDocs",(function(){a.setState({isCameraVisibleDocs:!0,isPreload:!1})})),Object(f.a)(Object(c.a)(a),"showCamera",(function(){setTimeout((function(){a.setState({isCameraVisible:!0,isPreload:!1}),setTimeout((function(){a.setState({isScanning:!0}),setTimeout((function(){a.setState({isScanning:!1,isVerificationSecond:!0}),setTimeout((function(){a.setState({isVerificationSecond:!1,isScanning:!0}),setTimeout((function(){a.setState({isScanning:!1,isVerificationThird:!0}),setTimeout((function(){a.setState({isScanning:!0}),setTimeout((function(){a.setState({isScanning:!1,isVerificationThird:!1,isVerificationCompleted:!0})}),1e3)}),2e3)}),1e3)}),2e3)}),1e3)}),2e3)}),1e3)})),Object(f.a)(Object(c.a)(a),"startVerification",(function(){"1"===a.props.isBMG?a.showCamera():a.showCameraDocs()})),Object(f.a)(Object(c.a)(a),"sendPhoto",(function(){if(+a.props.isBMG){a.setState({isAfterload:!0});var e=a.props.sendFile;a.canvas.toBlob(e)}else if(a.state.isDocAccepted){var t=a.props.sendFileManually;a.canvas.toBlob((function(e){a.state.selfie=e})),setTimeout((function(){a.setState({isAfterload:!0}),t(a.state.doc,a.state.selfie)}),1e3)}else a.canvas.toBlob((function(e){a.state.doc=e})),a.setState({isDocAccepted:!0,isCameraVisible:!0}),a.showCamera()})),a.state={isCameraVisible:!1,isCameraVisibleDocs:!1,isVerificationCompleted:!1,isScanning:!1,isVerificationSecond:!1,isVerificationThird:!1,isPreload:!0,isAfterload:!1,isDocsReady:!1,isFaceIDReady:!1,isDocAccepted:!1,doc:null,selfie:null},a}return Object(s.a)(n,[{key:"processDevices",value:function(e){var t=this;e.forEach((function(e){t.setDevice(e)}))}},{key:"setDevice",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.deviceId,e.next=3,navigator.mediaDevices.getUserMedia({audio:!1,video:{deviceId:n}});case 3:return this.videoPlayer.srcObject=e.sent,e.next=6,this.videoPlayer.play();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:t=e.sent,this.processDevices(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"c-camera-feed",children:[Object(p.jsx)("div",{className:"".concat(this.state.isAfterload?"modelLoader":"d-none")}),Object(p.jsxs)("div",{className:"c-camera-feed__preload ".concat(this.state.isPreload?"":"d-none"),children:[Object(p.jsx)("p",{children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438. \u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u043e\u0442\u043e. \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435 \u043a\u0430\u043c\u0435\u0440\u0443."}),Object(p.jsx)("button",{onClick:this.startVerification,children:"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435"})]}),Object(p.jsxs)("div",{className:"c-camera-feed--holder ".concat(!this.state.isCameraVisible&&!this.state.isCameraVisibleDocs||this.state.isPreload?"d-none":""),children:[Object(p.jsxs)("div",{className:"c-camera-feed__viewer",children:[Object(p.jsx)("video",{ref:function(t){return e.videoPlayer=t},width:"100%",height:"100%",autoPlay:!0,playsInline:!0,muted:!0}),Object(p.jsx)("div",{className:"iin ".concat(this.state.isCameraVisibleDocs?"":"d-none"),children:Object(p.jsx)("div",{className:"iin-frame"})}),Object(p.jsx)("div",{className:"face-id ".concat(this.state.isVerificationCompleted||this.state.isCameraVisibleDocs?"d-none":""),children:Object(p.jsx)("div",{className:"face-id__frame ".concat(this.state.isVerificationThird?"scale-smaller":""),children:Object(p.jsx)("div",{className:"face-id__scanner ".concat(this.state.isScanning?"":"d-none")})})})]}),Object(p.jsx)("p",{className:"face-id__text ".concat(this.state.isCameraVisibleDocs?"":"d-none"),children:"\u0421\u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0440\u0443\u0439\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438"}),Object(p.jsx)("p",{className:"face-id__text ".concat(!this.state.isVerificationCompleted&&this.state.isCameraVisible?"":"d-none"),children:this.state.isVerificationSecond?"\u0423\u043b\u044b\u0431\u043d\u0438\u0442\u0435\u0441\u044c":this.state.isVerificationThird?"\u041e\u0442\u0434\u0430\u043b\u0438\u0442\u0435\u0441\u044c":"\u041f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u043b\u0438\u0446\u043e \u0432 \u0440\u0430\u043c\u043a\u0443"}),Object(p.jsx)("button",{className:"".concat(this.state.isVerificationCompleted||this.state.isCameraVisibleDocs?"":"d-none"),onClick:this.takePhoto,children:"\u0421\u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(p.jsxs)("div",{className:"c-camera-feed--holder ".concat((this.state.isFaceIDReady||this.state.isDocsReady&&!this.state.isCameraVisible)&&!this.state.isPreload?"":"d-none"),children:[Object(p.jsx)("div",{className:"c-camera-feed__stage",children:Object(p.jsx)("canvas",{className:"canvas",height:"100%",ref:function(t){return e.canvas=t}})}),Object(p.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[Object(p.jsx)("button",{onClick:this.takePhotoAgain,children:"\u041f\u0435\u0440\u0435\u0441\u043d\u044f\u0442\u044c"}),Object(p.jsx)("button",{onClick:this.sendPhoto,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})]})]})]})}}]),n}(h.Component)},"7W2i":function(e,t,n){var a=n("SksO");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},"8Kt/":function(e,t,n){"use strict";n("lSNA");t.__esModule=!0,t.defaultHead=d,t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=(a=n("Xuae"))&&a.__esModule?a:{default:a},i=n("lwAK"),s=n("FYa8"),c=n("/0+H");function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[r.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(r.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function l(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===r.default.Fragment?e.concat(r.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var f=["name","httpEquiv","charSet","itemProp"];function p(e,t){return e.reduce((function(e,t){var n=r.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(l,[]).reverse().concat(d(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,a={};return function(r){var o=!0;if(r.key&&"number"!==typeof r.key&&r.key.indexOf("$")>0){var i=r.key.slice(r.key.indexOf("$")+1);e.has(i)?o=!1:e.add(i)}switch(r.type){case"title":case"base":t.has(r.type)?o=!1:t.add(r.type);break;case"meta":for(var s=0,c=f.length;s<c;s++){var u=f[s];if(r.props.hasOwnProperty(u))if("charSet"===u)n.has(u)?o=!1:n.add(u);else{var d=r.props[u],l=a[u]||new Set;l.has(d)?o=!1:(l.add(d),a[u]=l)}}}return o}}()).reverse().map((function(e,t){var n=e.key||t;return r.default.cloneElement(e,{key:n})}))}function h(e){var t=e.children,n=(0,r.useContext)(i.AmpStateContext),a=(0,r.useContext)(s.HeadManagerContext);return r.default.createElement(o.default,{reduceComponentsToState:p,headManager:a,inAmpMode:(0,c.isInAmpMode)(n)},t)}h.rewind=function(){};var m=h;t.default=m},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},EbDI:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},FYa8:function(e,t,n){"use strict";var a;t.__esModule=!0,t.HeadManagerContext=void 0;var r=((a=n("q1tI"))&&a.__esModule?a:{default:a}).default.createContext({});t.HeadManagerContext=r},Fo1f:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),o=n("HaE+"),i=n("1OyB"),s=n("vuIU"),c=n("JX7q"),u=n("Ji7U"),d=n("md7G"),l=n("foSv"),f=n("nKUr"),p=n("q1tI"),h=n.n(p),m=n("nOHt"),v=n.n(m),g=n("vDqi"),b=n.n(g),j=n("GUC0"),y=n.n(j),O=n("8Kt/"),x=n.n(O),S=n("610x"),C=n("DCcX"),k=n("vkoW"),w=n("CaDr"),_=n("/MKj"),E=n("toLX");function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var T=function(e){Object(u.a)(a,e);var t=N(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={token:null,loading:!1,docs:[],id:null,id_req:null,sign:"",isCodeSent:!1,code_conf:null,errorInCode:null,phone:null,rest:null,isModalOpen:!0},n.toggleModal=n.toggleModal.bind(Object(c.a)(n)),n.uploadImage=n.uploadImage.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"getUserDocument",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,b.a.get("https://api.money-men.kz/api/getData?token=".concat(t)).then((function(e){e.data.success?n.setState({docs:e.data.docs,id:e.data.id,id_req:e.data.id_req,loading:!1,rest:e.data.rest,phone:e.data.phone}):v.a.push("/")})).catch((function(e){n.setState({loading:!1}),v.a.push("/")}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCode",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://api.money-men.kz/api/sendSms?phone=".concat(this.state.phone),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){e.success&&t.setState({isCodeSent:!0})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendAgreementStatusForRest",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.state.code_conf){e.next=3;break}return e.next=3,b.a.get("https://api.money-men.kz/api/sendSms",{params:{id:this.state.id,phone:this.state.phone,token:this.state.token,id_req:this.state.id_req,code:this.state.code_conf,sign:"y"}},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){e.success&&y()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","".concat(e.message),"success").then((function(){v.a.push("/")}))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendAgreementStatusWithRest",value:function(){var e=this;this.setState({loading:!0}),b.a.get("https://api.money-men.kz/api/prolongationAgreement?sign=y&request_id=".concat(this.state.id)).then((function(t){e.setState({loading:!1}),t.data.success&&y()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","success").then((function(){v.a.push("/")}))})).catch((function(t){e.setState({loading:!1}),console.log(t),v.a.push("/")}))}},{key:"sendAgreementStatus",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0});try{b.a.get("https://api.money-men.kz/api/agreement",{params:{id:this.state.id,phone:this.state.phone,token:this.state.token,id_req:this.state.id_req,sign:"y"}}).then((function(e){t.setState({loading:!1}),e.data.success&&y()("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","\u041d\u0430\u0448\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u044b \u0441\u0432\u044f\u0436\u0443\u0442\u0441\u044f \u0441 \u0412\u0430\u043c\u0438 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 15 \u043c\u0438\u043d\u0443\u0442").then((function(){v.a.push("/")}))}))}catch(n){this.setState({loading:!1}),console.log(n),v.a.push("/")}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"uploadImage",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,i=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("iin",null===(n=this.props.userReducer.user)||void 0===n?void 0:n.UF_4),o.append("leadID",null===(a=this.props.userReducer.user)||void 0===a?void 0:a.UF_1),o.append("photo",t),o.append("fileName","image.png"),o.append("extension","png"),this.setState({loading:!0}),e.next=9,b.a.post("http://178.170.221.75/biometria/public/api/comparePhotos",o).then((function(e){e.data.similarity>82?y()("\u0412\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430","\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b","success").then((function(){i.setState({isModalOpen:!1})})):y()("\u0412\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430","\u0424\u043e\u0442\u043e \u043d\u0435 \u043f\u0440\u043e\u0448\u043b\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437","error").then((function(){v.a.push("/")}))})).catch((function(e){console.log(e),y()("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437","error").then((function(){v.a.push("/")}))})).finally((function(){i.setState({loading:!1})}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"container otherPages",children:[Object(f.jsx)("div",{className:"modelLoader ".concat(this.state.isCameraLoading?"":"d-none")}),Object(f.jsxs)(C.a,{isOpen:this.state.isModalOpen,class:"modal modal-calculator",size:"lg",children:[Object(f.jsx)(k.a,{children:"\u0412\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}),Object(f.jsx)(w.a,{children:Object(f.jsx)(S.a,{sendFile:this.uploadImage})})]}),Object(f.jsx)(x.a,{children:Object(f.jsx)("title",{children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"})}),this.state.loading?Object(f.jsx)("div",{className:"modelLoader"}):Object(f.jsx)("div",{className:"modelLoader loaded",children:" "}),Object(f.jsx)("div",{className:"row justify-content-center",children:Object(f.jsx)("div",{className:"col-md-12",children:Object(f.jsxs)("div",{className:"agreements-block",children:[Object(f.jsx)("h4",{align:"center",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(f.jsx)("ul",{className:"complete",children:this.state.docs.map((function(e){return Object(f.jsxs)("li",{className:null===e.link?"d-none":"",children:[Object(f.jsx)("img",{className:"checkedComplete",src:n("jI6F")}),Object(f.jsx)("a",{href:e.link,target:"_blank",children:e.name})]})}))}),Object(f.jsx)("div",{className:"repeatBtn form-group",children:!0===this.state.rest?Object(f.jsx)("button",{onClick:function(){return e.sendAgreementStatusWithRest()},className:"mt-5",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0430\u044e\u0441\u044c"}):Object(f.jsx)("button",{onClick:function(){return e.sendAgreementStatus()},className:"mt-5",children:"\u0421\u043e\u0433\u043b\u0430\u0448\u0430\u044e\u0441\u044c"})})]})})})]})}}]),a}(h.a.Component);t.default=Object(E.a)(Object(_.connect)((function(e){return{userReducer:e.userReducer}}))(T))},"HaE+":function(e,t,n){"use strict";function a(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return r}))},Ijbi:function(e,t,n){var a=n("WkPL");e.exports=function(e){if(Array.isArray(e))return a(e)}},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},RIqP:function(e,t,n){var a=n("Ijbi"),r=n("EbDI"),o=n("ZhPi"),i=n("Bnag");e.exports=function(e){return a(e)||r(e)||o(e)||i()}},RVGb:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agreements",function(){return n("Fo1f")}])},Xuae:function(e,t,n){"use strict";var a=n("RIqP"),r=n("lwsE"),o=n("W8MJ"),i=(n("PJYZ"),n("7W2i")),s=n("a1gu"),c=n("Nsbk");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s(this,n)}}t.__esModule=!0,t.default=void 0;var d=n("q1tI"),l=function(e){i(n,e);var t=u(n);function n(e){var o;return r(this,n),(o=t.call(this,e))._hasHeadManager=void 0,o.emitChange=function(){o._hasHeadManager&&o.props.headManager.updateHead(o.props.reduceComponentsToState(a(o.props.headManager.mountedInstances),o.props))},o._hasHeadManager=o.props.headManager&&o.props.headManager.mountedInstances,o}return o(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(d.Component);t.default=l},a1gu:function(e,t,n){var a=n("cDf5"),r=n("PJYZ");e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?r(e):t}},jI6F:function(e,t){e.exports="/_next/static/images/checked-542f69ac8fd42a1c46953a5547bba55d.png"},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lwAK:function(e,t,n){"use strict";var a;t.__esModule=!0,t.AmpStateContext=void 0;var r=((a=n("q1tI"))&&a.__esModule?a:{default:a}).default.createContext({});t.AmpStateContext=r},p46w:function(e,t,n){var a,r;!function(o){if(void 0===(r="function"===typeof(a=o)?a.call(t,n,t,e):a)||(e.exports=r),!0,e.exports=o(),!!0){var i=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=i,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(a){function r(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(u){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!==typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var s=o[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(a.read||a)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(d){}if(r[u]=c,e===u)break}catch(d){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return i(e,!1)},r.getJSON=function(e){return i(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},toLX:function(e,t,n){"use strict";var a=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),i=n("md7G"),s=n("foSv"),c=n("nKUr"),u=n("q1tI"),d=n.n(u),l=n("/MKj"),f=n("nOHt"),p=n.n(f),h=n("w18f"),m=n("p46w"),v=n.n(m);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}t.a=function(e){var t=function(t){Object(o.a)(i,t);var n=g(i);function i(){return Object(a.a)(this,i),n.apply(this,arguments)}return Object(r.a)(i,[{key:"componentDidMount",value:function(){v.a.get("token")&&!this.props.loggedIn?this.props.fetchCurrentUser():v.a.get("token")||p.a.push("/login")}},{key:"render",value:function(){return v.a.get("token")&&this.props.loggedIn?Object(c.jsx)(e,{}):!v.a.get("token")||!this.props.authenticatingUser&&this.props.loggedIn?Object(c.jsxs)("div",{className:"otherPages",children:[Object(c.jsx)("div",{className:"modelLoader"}),Object(c.jsx)("h2",{className:"text-center pt-5",children:"\u0412\u0440\u0435\u043c\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u0435\u0430\u043d\u0441\u0430 \u0438\u0441\u0442\u0435\u043a\u043b\u043e"})]}):Object(c.jsxs)("div",{className:"otherPages",children:[Object(c.jsx)("div",{className:"pd-5 pt-5"}),Object(c.jsx)("div",{className:"modelLoader"})]})}}]),i}(d.a.Component);return Object(l.connect)((function(e){return{loggedIn:e.userReducer.loggedIn,authenticatingUser:e.userReducer.authenticatingUser}}),h)(t)}},vkoW:function(e,t,n){"use strict";var a=n("wx14"),r=n("zLVn"),o=n("q1tI"),i=n.n(o),s=n("17x9"),c=n.n(s),u=n("TSYQ"),d=n.n(u),l=n("33Jr"),f={tag:l.o,wrapTag:l.o,toggle:c.a.func,className:c.a.string,cssModule:c.a.object,children:c.a.node,closeAriaLabel:c.a.string,charCode:c.a.oneOfType([c.a.string,c.a.number]),close:c.a.object},p=function(e){var t,n=e.className,o=e.cssModule,s=e.children,c=e.toggle,u=e.tag,f=e.wrapTag,p=e.closeAriaLabel,h=e.charCode,m=e.close,v=Object(r.a)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),g=Object(l.k)(d()(n,"modal-header"),o);if(!m&&c){var b="number"===typeof h?String.fromCharCode(h):h;t=i.a.createElement("button",{type:"button",onClick:c,className:Object(l.k)("close",o),"aria-label":p},i.a.createElement("span",{"aria-hidden":"true"},b))}return i.a.createElement(f,Object(a.a)({},v,{className:g}),i.a.createElement(u,{className:Object(l.k)("modal-title",o)},s),m||t)};p.propTypes=f,p.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215},t.a=p},w18f:function(e,t,n){"use strict";n.r(t),n.d(t,"authenticatingUser",(function(){return s})),n.d(t,"setCurrentUser",(function(){return c})),n.d(t,"dateLoading",(function(){return u})),n.d(t,"dateFailed",(function(){return d})),n.d(t,"statusSuccess",(function(){return l})),n.d(t,"historySuccess",(function(){return f})),n.d(t,"logoutUser",(function(){return p})),n.d(t,"loginUser",(function(){return h})),n.d(t,"loginAdmin",(function(){return m})),n.d(t,"fetchCurrentUser",(function(){return v})),n.d(t,"fetchUserStatus",(function(){return g})),n.d(t,"fetchUserHistory",(function(){return b})),n.d(t,"fetchAdmin",(function(){return j}));var a=n("p46w"),r=n.n(a),o=n("nOHt"),i=n.n(o),s=function(){return{type:"AUTHENTICATING_USER"}},c=function(e){return{type:"SET_CURRENT_USER",payload:e}},u=function(){return{type:"DATE_LOADING"}},d=function(e){return{type:"DATE_FAILED",payload:e}},l=function(e){return{type:"STATUS_SUCCESS",payload:e}},f=function(e){return{type:"HISTORY_SUCCESS",payload:e}},p=function(){return{type:"LOGOUT_USER"}},h=function(e){return function(t){t({type:"AUTHENTICATING_USER"}),fetch("https://api.i-credit.kz/api/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e})).then((function(e){return e.json()})).then((function(e){if(e.success)return e;var t=new Error("Error ".concat(response.status,": ").concat(response.statusText));throw t.response=e.message,t})).then((function(e){r.a.set("token",e.token),t(v()),t({type:"SET_CURRENT_USER",payload:"user"}),t({type:"AUTHENTICATED_USER"}),i.a.push("/cabinet/loans")}),(function(e){throw new Error(e.message)})).catch((function(e){e.message.includes("400"),t({type:"FAILED_LOGIN",payload:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0418\u0418\u041d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})}))}},m=function(e){return function(t){e.login=e.iin,delete e.iin,t({type:"AUTHENTICATING_USER"}),fetch("https://api.i-credit.kz/api/authAdmin",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e})).then((function(e){return e.json()})).then((function(e){if(e.success)return e;var t=new Error("Error ".concat(response.status,": ").concat(response.statusText));throw t.response=e.message,t})).then((function(e){r.a.set("token",e.token),t(v()),t({type:"SET_CURRENT_USER",payload:"user"}),t({type:"AUTHENTICATED_USER"}),i.a.push("/cabinet/admin13531")}),(function(e){throw new Error(e.message)})).catch((function(e){e.message.includes("400"),t({type:"FAILED_LOGIN",payload:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0418\u0418\u041d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})}))}},v=function(){return function(e){e(s()),fetch("https://api.i-credit.kz/api/getUserProfileFromBitrix",{method:"POST",body:JSON.stringify({token:r.a.get("token")}),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"}}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t})).then((function(e){return e.json()})).then((function(t){e(c(t))})).catch((function(e){console.log(e.message||"Error")}))}},g=function(){return function(e){e(u(!0)),fetch("https://api.i-credit.kz/api/getUserInfo",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({token:r.a.get("token")})}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t})).then((function(e){return e.json()})).then((function(t){e(l(t))})).catch((function(t){e(d(t.message||"\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u0435\u0440\u043d\u044b. ")),console.log(t.message||"Error")}))}},b=function(){return function(e){e(u(!0)),fetch("https://api.i-credit.kz/api/history",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({token:r.a.get("token")})}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t})).then((function(e){return e.json()})).then((function(t){e(f(t))})).catch((function(t){e(d(t.message)),console.log(t.message||"Error")}))}},j=function(){return function(e){e(s()),fetch("http://localhost:8000/api/getProfile?token=".concat(r.a.get("admin_token")),{method:"GET"}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t})).then((function(e){return e.json()})).then((function(t){e(c(t))})).catch((function(e){r.a.remove("admin_token"),console.log(e.message||"Error")}))}}}},[["RVGb",0,1,2,3,4,5,6,8,10]]]);